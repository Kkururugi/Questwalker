<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>QuestWalker - Admin Panel</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="admin.css">
</head>
<body>
  <div class="admin-container">
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="logo">
          <i class="fas fa-route"></i>
          <span>QuestWalker</span>
        </div>
        <div class="admin-profile">
          <div class="admin-avatar">
            <i class="fas fa-user-shield"></i>
          </div>
          <div class="admin-info">
            <span id="admin-name">Admin Name</span>
            <span id="admin-email">admin@example.com</span>
          </div>
        </div>
      </div>
      <nav class="sidebar-nav">
        <ul>
          <li class="active">
            <a href="#" id="dashboard-tab">
              <i class="fas fa-tachometer-alt"></i>
              <span>Dashboard</span>
            </a>
          </li>
          <li>
            <a href="#" id="reports-tab">
              <i class="fas fa-flag"></i>
              <span>Reports</span>
            </a>
          </li>
          <li>
            <a href="#" id="users-tab">
              <i class="fas fa-users"></i>
              <span>Users</span>
            </a>
          </li>
          <li>
            <a href="#" id="quests-tab">
              <i class="fas fa-map-marked-alt"></i>
              <span>Quests</span>
            </a>
          </li>
          <li>
            <a href="homepage.html">
              <i class="fas fa-arrow-left"></i>
              <span>Back to App</span>
            </a>
          </li>
        </ul>
      </nav>
      <div class="sidebar-footer">
        <button id="logout-admin" class="logout-btn">
          <i class="fas fa-sign-out-alt"></i>
          <span>Logout</span>
        </button>
      </div>
    </aside>

    <main class="main-content">
      <div class="admin-content">
        <div id="dashboard-panel" class="panel active">
          <h1><i class="fas fa-tachometer-alt"></i> Admin Dashboard</h1>
          <div class="stats-container">
            <div class="stat-card">
              <div class="stat-icon bg-primary">
                <i class="fas fa-users"></i>
              </div>
              <div class="stat-info">
                <h3>Total Users</h3>
                <span id="total-users">0</span>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon bg-success">
                <i class="fas fa-map-marked-alt"></i>
              </div>
              <div class="stat-info">
                <h3>Active Quests</h3>
                <span id="total-quests">0</span>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon bg-warning">
                <i class="fas fa-flag"></i>
              </div>
              <div class="stat-info">
                <h3>Open Reports</h3>
                <span id="open-reports">0</span>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon bg-danger">
                <i class="fas fa-ban"></i>
              </div>
              <div class="stat-info">
                <h3>Banned Users</h3>
                <span id="banned-users">0</span>
              </div>
            </div>
          </div>
          
          <div class="charts-container">
            <div class="chart-card">
              <h3><i class="fas fa-chart-line"></i> User Activity</h3>
              <div class="chart-container" id="users-chart"></div>
            </div>
            <div class="chart-card">
              <h3><i class="fas fa-chart-bar"></i> Quest Activity</h3>
              <div class="chart-container" id="quests-chart"></div>
            </div>
            <div class="chart-card">
              <h3><i class="fas fa-chart-pie"></i> Reports Overview</h3>
              <div class="chart-container" id="reports-chart"></div>
            </div>
          </div>
        </div>

        <div id="reports-panel" class="panel">
          <div class="panel-header">
            <h1><i class="fas fa-flag"></i> Quest Reports</h1>
            <div class="panel-actions">
              <div class="filter-group">
                <label for="report-status-filter">Filter by Status:</label>
                <select id="report-status-filter">
                  <option value="open" selected>Open</option>
                  <option value="authenticated">Authenticated</option>
                  <option value="resolved">Resolved</option>
                  <option value="dismissed">Dismissed</option>
                  <option value="all">All</option>
                </select>
              </div>
              <button id="refresh-reports" class="btn btn-primary">
                <i class="fas fa-sync-alt"></i> Refresh
              </button>
            </div>
          </div>
          <div id="reports-list" class="data-list">
            <!-- Reports will be loaded here -->
            <div class="loading-spinner">
              <i class="fas fa-spinner fa-spin"></i>
              <span>Loading reports...</span>
            </div>
          </div>
        </div>

        <div id="users-panel" class="panel">
          <div class="panel-header">
            <h1><i class="fas fa-users"></i> User Management</h1>
            <div class="panel-actions">
              <div class="search-group">
                <i class="fas fa-search"></i>
                <input type="text" id="user-search" placeholder="Search users...">
              </div>
              <button id="search-users" class="btn btn-primary">
                <i class="fas fa-search"></i> Search
              </button>
            </div>
          </div>
          <div id="users-list" class="data-list">
            <!-- Users will be loaded here -->
            <div class="loading-spinner">
              <i class="fas fa-spinner fa-spin"></i>
              <span>Loading users...</span>
            </div>
          </div>
        </div>

        <div id="quests-panel" class="panel">
          <div class="panel-header">
            <h1><i class="fas fa-map-marked-alt"></i> Quest Management</h1>
            <div class="panel-actions">
              <div class="search-group">
                <i class="fas fa-search"></i>
                <input type="text" id="quest-search" placeholder="Search quests...">
              </div>
              <button id="search-quests" class="btn btn-primary">
                <i class="fas fa-search"></i> Search
              </button>
            </div>
          </div>
          <div id="quests-list" class="data-list">
            <!-- Quests will be loaded here -->
            <div class="loading-spinner">
              <i class="fas fa-spinner fa-spin"></i>
              <span>Loading quests...</span>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Report Action Modal -->
  <div id="action-modal" class="modal hidden">
    <div class="modal-content">
      <span class="close" id="close-action">&times;</span>
      <h2 id="action-title"><i class="fas fa-flag"></i> Report Actions</h2>
      <div id="report-details-container">
        <!-- Report details will be loaded here -->
      </div>
      <div class="action-buttons">
        <button id="ban-user" class="btn btn-danger">
          <i class="fas fa-ban"></i> Ban User
        </button>
        <button id="remove-quest" class="btn btn-warning">
          <i class="fas fa-trash-alt"></i> Remove Quest
        </button>
        <button id="dismiss-report" class="btn btn-secondary">
          <i class="fas fa-times-circle"></i> Dismiss Report
        </button>
      </div>
    </div>
  </div>

  <!-- Ban Confirmation Modal -->
  <div id="ban-confirm-modal" class="modal hidden">
    <div class="modal-content">
      <span class="close" id="close-ban-confirm">&times;</span>
      <h2><i class="fas fa-exclamation-triangle"></i> Confirm Ban</h2>
      <div id="ban-confirm-details">
        <!-- Ban details will be loaded here -->
      </div>
      <div class="action-buttons">
        <button id="confirm-ban" class="btn btn-danger">
          <i class="fas fa-ban"></i> Confirm Ban
        </button>
        <button id="cancel-ban" class="btn btn-secondary">
          <i class="fas fa-times"></i> Cancel
        </button>
      </div>
    </div>
  </div>

  <!-- Warning Modal -->
  <div id="warning-modal" class="modal hidden">
    <div class="modal-content">
      <span class="close" id="close-warning">&times;</span>
      <h2><i class="fas fa-exclamation-circle"></i> Send Warning to User</h2>
      <div id="warning-details">
        <p>You are about to send a warning to <strong id="warning-user-name"></strong>.</p>
        <textarea id="warning-message" placeholder="Enter warning message..."></textarea>
      </div>
      <div class="action-buttons">
        <button id="send-warning" class="btn btn-warning">
          <i class="fas fa-paper-plane"></i> Send Warning
        </button>
        <button id="cancel-warning" class="btn btn-secondary">
          <i class="fas fa-times"></i> Cancel
        </button>
      </div>
    </div>
  </div>

  <script type="module" src="admin.js"></script>
</body>
</html>